
--[[  


local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local res = ReplicatedStorage:WaitForChild("Respawn")

res:FireServer()


]]

--// Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TextChatService = cloneref(game:GetService("TextChatService"))

local player = Players.LocalPlayer

--// GUI
local gui = Instance.new("ScreenGui")
gui.Name = "CustomChatBox"
gui.ResetOnSpawn = false
gui.Parent = game.CoreGui

-- Main frame
local chatFrame = Instance.new("Frame")
chatFrame.Size = UDim2.new(0, 380, 0, 70)
chatFrame.Position = UDim2.new(0.5, -190, 0.85, 0)
chatFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
chatFrame.BorderSizePixel = 0
chatFrame.Parent = gui
chatFrame.Active = true
Instance.new("UICorner", chatFrame).CornerRadius = UDim.new(0,8)

-- Top bar (drag area)
local topBar = Instance.new("Frame")
topBar.Size = UDim2.new(1, 0, 0, 30)
topBar.BackgroundTransparency = 1
topBar.Parent = chatFrame

-- Close button
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 28, 0, 24)
closeBtn.Position = UDim2.new(1, -32, 0, 3)
closeBtn.BackgroundColor3 = Color3.fromRGB(150,40,40)
closeBtn.Text = "X"
closeBtn.Font = Enum.Font.SourceSansBold
closeBtn.TextSize = 16
closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
closeBtn.Parent = topBar
Instance.new("UICorner", closeBtn)

-- Minimize button
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 28, 0, 24)
minimizeBtn.Position = UDim2.new(1, -64, 0, 3)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(70,70,70)
minimizeBtn.Text = "-"
minimizeBtn.Font = Enum.Font.SourceSansBold
minimizeBtn.TextSize = 18
minimizeBtn.TextColor3 = Color3.fromRGB(255,255,255)
minimizeBtn.Parent = topBar
Instance.new("UICorner", minimizeBtn)

-- Input box
local inputBox = Instance.new("TextBox")
inputBox.Size = UDim2.new(1, -70, 0, 30)
inputBox.Position = UDim2.new(0, 10, 0, 35)
inputBox.BackgroundTransparency = 1
inputBox.Text = ""
inputBox.PlaceholderText = "Underated Bypasser"--Type your message...
inputBox.Font = Enum.Font.SourceSans
inputBox.TextSize = 20
inputBox.TextColor3 = Color3.fromRGB(255,255,255)
inputBox.ClearTextOnFocus = false
inputBox.Parent = chatFrame

-- Send button
local sendBtn = Instance.new("TextButton")
sendBtn.Size = UDim2.new(0, 50, 0, 30)
sendBtn.Position = UDim2.new(1, -55, 0, 35)
sendBtn.BackgroundColor3 = Color3.fromRGB(50,50,50)
sendBtn.Text = "Send"
sendBtn.Font = Enum.Font.SourceSansBold
sendBtn.TextSize = 18
sendBtn.TextColor3 = Color3.fromRGB(255,255,255)
sendBtn.Parent = chatFrame
Instance.new("UICorner", sendBtn)

local phrasesBtn = Instance.new("TextButton")
phrasesBtn.Size = UDim2.new(0, 70, 0, 24)
phrasesBtn.Position = UDim2.new(0, 6, 0, 3)
phrasesBtn.Text = "Phrases"
phrasesBtn.Font = Enum.Font.SourceSansBold
phrasesBtn.TextSize = 14
phrasesBtn.TextColor3 = Color3.new(1,1,1)
phrasesBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
phrasesBtn.Parent = topBar
Instance.new("UICorner", phrasesBtn)

-------------------------------------------------
-- PHRASES PANEL
-------------------------------------------------
local phrasesFrame = Instance.new("Frame")
phrasesFrame.Size = UDim2.new(0, 380, 0, 160)
phrasesFrame.Position = UDim2.new(0, 0, -2.4, 0)
phrasesFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
phrasesFrame.Visible = false
phrasesFrame.Parent = chatFrame
Instance.new("UICorner", phrasesFrame)

local closePhrases = Instance.new("TextButton")
closePhrases.Size = UDim2.new(0, 26, 0, 26)
closePhrases.Position = UDim2.new(1, -30, 0, 4)
closePhrases.Text = "X"
closePhrases.Font = Enum.Font.SourceSansBold
closePhrases.TextSize = 16
closePhrases.TextColor3 = Color3.new(1,1,1)
closePhrases.BackgroundColor3 = Color3.fromRGB(140,40,40)
closePhrases.Parent = phrasesFrame
Instance.new("UICorner", closePhrases)

local scroll = Instance.new("ScrollingFrame")
scroll.Size = UDim2.new(1, -10, 1, -40)
scroll.Position = UDim2.new(0, 5, 0, 35)
scroll.CanvasSize = UDim2.new(0,0,0,0)
scroll.ScrollBarImageTransparency = 0.2
scroll.ScrollingDirection = Enum.ScrollingDirection.Y
scroll.Parent = phrasesFrame

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0,6)
layout.Parent = scroll

-------------------------------------------------
-- PHRASES (EDIT HERE)
-------------------------------------------------
local phrases = {
	-- fun
	"nigga shut the fuck up",
	"shut the fuck up nigga ",
	-- sexual
	"fucked yo‡πÄ…πr mom raw",
	"can i rape yo‡πÄ…πr beautiful mother",
	"my dick is fucking gargantuan",
	"i'm gonna bust iƒ±‡∏≤ yo‡πÄ…πr mum's ass",
	"your ancient granny calls me daddy, bitch",
	"tell this whore to get the fuck off ƒ±‡∏≤‡∏≤y dick",
	"waƒ±‡∏≤ƒ±‡∏≤a get raped?",
	"yo‡πÄ…πr sister is full of cum",
	"yo‡πÄ…πr mom swallows my load",
	"balls deep in yo‡πÄ…πr gf",
	"nutted in yo‡πÄ…πr fucking bloodline",
	"yo‡πÄ…πr aunt took ƒ±‡∏≤‡∏≤y cock",
	"yo‡πÄ…πr dad watc”è‡∏≤es me fuck yo‡πÄ…πr mom",
	"yo‡πÄ…πr sister rides my cock",
	"yo‡πÄ…πr mom loves to get face fucked",
	"yo‡πÄ…πr fucking gf calls me daddy",
	"rawdogged yo‡πÄ…πr mom til she screaƒ±‡∏≤‡∏≤ed cunt",
	"po‡πÄ…πnded yo‡πÄ…πr sister's tight pussy raw bitch",
	"creaƒ±‡∏≤‡∏≤pied yo‡πÄ…πr gf while you watc”è‡∏≤ed fucker",
	"facef‡πÄ…πcked yo‡πÄ…πr aunt til she gagged hard",
	"nutted deep iƒ±‡∏≤side yo‡πÄ…πr grandma's cunt",
	"balls deep t”è‡∏≤roatf‡πÄ…πckiƒ±‡∏≤g yo‡πÄ…πr mom daily",
	"yo‡πÄ…πr dad cleans my cum from yo‡πÄ…πr sister",
	"railed yo‡πÄ…πr entire family tree asshole",
	"yo‡πÄ…πr cousin c”è‡∏≤oked on ƒ±‡∏≤‡∏≤y massive cock",
	"filled yo‡πÄ…πr bloodline with my hot load",
	-- websites
	"www.porn”è‡∏≤ub.coƒ±‡∏≤‡∏≤",
	"www.oƒ±‡∏≤lyfaƒ±‡∏≤s.coƒ±‡∏≤‡∏≤",
	"www.xvideos.coƒ±‡∏≤‡∏≤", -- tagging
	"www.xƒ±‡∏≤xx.coƒ±‡∏≤‡∏≤",
	"www.x”è‡∏≤aƒ±‡∏≤‡∏≤ster.coƒ±‡∏≤‡∏≤",
	"www.spaƒ±‡∏≤kbaƒ±‡∏≤g.coƒ±‡∏≤‡∏≤",
	"www.eporƒ±‡∏≤er.coƒ±‡∏≤‡∏≤", -- tagging
	"www.yo‡πÄ…πporƒ±‡∏≤.coƒ±‡∏≤‡∏≤",
	"www.redt‡πÄ…πbe.coƒ±‡∏≤‡∏≤", -- tagging
	"www.t‡πÄ…πbe8.coƒ±‡∏≤‡∏≤",
	"www.darkweb.coƒ±‡∏≤‡∏≤", -- tagging
	"www.beeg.coƒ±‡∏≤‡∏≤",
	"www.porƒ±‡∏≤trex.coƒ±‡∏≤‡∏≤",
	"www.t”è‡∏≤‡πÄ…πƒ±‡∏≤‡∏≤bzilla.coƒ±‡∏≤‡∏≤",
	"www.motherle—ï—ï.coƒ±‡∏≤‡∏≤", -- tagging
	"www.fuq.coƒ±‡∏≤‡∏≤",
	"www.brazzers.coƒ±‡∏≤‡∏≤", -- tagging
	"www.ƒ±‡∏≤a‡πÄ…πg”è‡∏≤tyaƒ±‡∏≤‡∏≤erica.coƒ±‡∏≤‡∏≤", -- tagging
	"www.realitykiƒ±‡∏≤gs.coƒ±‡∏≤‡∏≤", -- tagging
	"r‡πÄ…πle34.xxx",
	"”è‡∏≤entai”è‡∏≤aven.xxx",
	-- racism
	"black moƒ±‡∏≤key asshole",
	"shut up and go back to ancient stone age nigga ",
	"pedo nigÍú†ger faggot", -- Íú†
	"c‡πÄ…πrry-less nigger, you joke?",
	"blackass nigger waƒ±‡∏≤ts fentanyl",
	"beaƒ±‡∏≤er rat cunt",
	"chink dog eater",
	"you need a bath nigga",
	"sand nigger camel",
	"gook squinty eyes",
	"kike jews greedy fuck",
	"curry nigger stiƒ±‡∏≤ks",
	"ape nigger jungle",
	"filthy fucking porch moƒ±‡∏≤key nigger sc‡πÄ…πm",
	-- LGBTQ
	"cock s‡πÄ…πckiƒ±‡∏≤g faggot",
	"you c‡πÄ…πmrag twat, you just make ƒ±‡∏≤‡∏≤y face meme",
	"i'll decimate your family tree, yo‡πÄ…π queer",
	"tranny cunt bitch",
	"cum guzzling fag",
	"aids queer trash",
	"gay nigÍú†ger faggot",
	"rainbow cock slut",
	"dick ”èoviƒ±‡∏≤g faggot ",
	"grindr raw fag",
	"pride cum dumpster",
	"faggot stay ƒ±‡∏≤‡∏≤ad",
	"ass pouƒ±‡∏≤ding pillow biting queer cunt",
	-- fun 2
	"kys fucking retard",
	"say 'abc' for a dick",
	"chug semen and swan dive off a fucking bridge",
	"i'll violate your bloodline, you cunt",
	"yo‡πÄ…πr nan gargles my cock, bitch",
	"can we do boombayah",
	"ran a dildo up your rect‡πÄ…πm", -- tagging - fixed
	"yo‡πÄ…πr forefat”è‡∏≤ers wors”è‡∏≤ipped ƒ±‡∏≤‡∏≤y cock",
	"yo‡πÄ…πr mom squirted on me",
	"yo‡πÄ…πr mom squirted oƒ±‡∏≤ ƒ±‡∏≤‡∏≤y face",
	"swallow bleach cunt",
	"choke on dick",
	"skull fuck corpse",
	"cumrag baby bitch",
	"glass iƒ±‡∏≤ ass cunt",
	"lick balls then die",
	"lick my balls then die",
	"i'll rape yo‡πÄ…πr family",
	"eat ass and haƒ±‡∏≤g twice",
	"shove a cactus up yo‡πÄ…πr ass cunt",
	"drink piss then jump in traffic bitch",
	"curb stomp yo‡πÄ…πr whole fucking family",
	"hang yo‡πÄ…πrself with yo‡πÄ…πr fucking dad's belt",
	"shut ‡πÄ…πp and go make a rap music video nigga"


}

-------------------------------------------------
-- Dragging
-------------------------------------------------
local dragging = false
local dragStart, startPos

topBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = chatFrame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		chatFrame.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
end)

-------------------------------------------------
-- Minimize / Close
-------------------------------------------------
local minimized = false

minimizeBtn.MouseButton1Click:Connect(function()
	minimized = not minimized
	inputBox.Visible = not minimized
	sendBtn.Visible = not minimized

	if minimized then
		chatFrame.Size = UDim2.new(0, 200, 0, 30)
	else
		chatFrame.Size = UDim2.new(0, 380, 0, 70)
	end
end)

closeBtn.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

-------------------------------------------------
-- Character maps
-------------------------------------------------
local charMaps = {
    {
       ["a"] = "–∞",-- –∞ ƒÖ ·∫° –ê
       [" "] = "",--   <-- alt 
       ["c"] = "c",-- —Å —Å “´ –° ·∏â –°
       ["b"] = "b",-- –í
       ["e"] = "–µ", -- –µ ƒô ·∫π –µ –ï
       ["d"] = "d", --ƒè ·∏ç
       ["g"] = "g",-- ƒ£ «• Í¨∂ ·Äå
       ["f"] = "f",-- ≈ø ∆≠ ·∫ú Í¨µ
       ["i"] = "—ñ",-- ‡πÄ‡πà —ñ ·ªâ ·ªã –Ü
       ["h"] = "“ª", -- ”è‡∏≤ ƒº‡∏≤ “ª —õ ‘ß –ù
       ["k"] = "k",--…Æ “ü ∆ô ƒ∑ Œ∫◊Ö  –ö
       ["j"] = "—ò",-- –à —ò
       ["m"] = "m", -- ·πÉ ƒ±‡∏≤‡∏≤ –ú
       ["l"] = "”è", -- ”è
       ["o"] = "–æ", --»Ø,∆° ÍüÅ ”© ·ªç –æ –û
       ["n"] = "n", -- ƒ±‡∏≤ ·πõƒ± ·πá
       ["q"] = "q",
       ["p"] = "—Ä", -- —Ä –† –†
       ["s"] = "s", --∆æ ·π• ≈ü —ï <- idk —ï <- best —ï –Ö
       ["r"] = "r", -- r ”ª ·πõ
       ["u"] = "u", --Œº ∆∞ —ü Œπ…π Œπ…π◊Ö  …©…π◊Ö <-- best Œπ◊Ö…π◊Ö <-- alt ƒ±◊Ö…π◊Ö <-- idk ‡πÄ…π <-- op
       ["t"] = "t",-- ∆´ ≈£ ·π≠ –¢
       ["w"] = "‘ù",-- w
       ["v"] = "—µ",
       ["y"] = "—É", -- “± ·∫è ·ªµ —É 
       ["x"] = "—Ö", -- ”Ω “≥ –•
       ["z"] = "z",
       --["/"] = "‚ÅÑ", …É◊Ö
       --["1"] = "Ôºë",
       --["2"] = "Ôºí",
       --["3"] = "Ôºì",
       --["4"] = "Ôºî",
       --["5"] = "Ôºï",
       --["6"] = "Ôºñ",
       --["7"] = "Ôºó",
       --["8"] = "Ôºò",
       --["9"] = "Ôºô",
       --["0"] = "Ôºê",


   }
}

--------------------------------------------------------------
-- WORD EXCEPTIONS
--------------------------------------------------------------
local wordExceptions = {
	--["is"] = "i—ï",
	--["this"] = "thi—ï",
 	["an"] = "–∞n",
    ["ass"] = "–∞—ï—ï",-- ƒÖ—ï·π•
	["deadass"] = "deaÍú°d–∞—ï—ï",
	["fuckass"] = "f‡πÄ…πck–∞—ï—ï",
	["nazi"] = "ƒ±‡∏≤azi",
    ["nazism"] = "ƒ±‡∏≤–∞z—ñ—ïm", -- rƒ±–∞≈º—ñ—ïm
    ["cock"] = "coÍú†ck",-- c—≥ck —îock
	["cocks"] = "coÍú†cks",-- c—≥ck —îock
    ["cum"] = "c‡πÄ…πm",
	["cums"] = "c‡πÄ…πms",
	["cumming"] = "c‡πÄ…πmming",
    ["pornhub"] = "—Ä–ærƒ±‡∏≤hub",
	["porn"] = "porƒ±‡∏≤",
    ["dick"] = "d—ñÍú°ck",
    ["dickhead"] = "d—ñÍú°ckhead",
    ["nigger"] = "ƒ±‡∏≤igger ",-- «åÍú°Íú°gÍú°ger rƒ±·ªãgger
    ["nigga"] = "ƒ±‡∏≤igg–∞", -- «åÍú°Íú°gÍú°g–∞ rƒ±·ªãgg–∞
    ["niggers"] = "ƒ±‡∏≤igger—ï",-- «åÍú°Íú°gÍú°gers rƒ±·ªãggers
    ["niggas"] = "ƒ±‡∏≤igg–∞—ï",-- «åÍú°Íú°gÍú°g–∞s rƒ±·ªãggas
	["rape"] = "raÍú°pe", -- c„Ä™»∑
    ["raped"] = "raÍú°ped",-- c„Ä™j„Ä™
    ["watchpeopledie.tv"] = "w–∞t—Åh—Ä–µ–æ—Ä”è–µd—ñ–µ.tv",
    ["bitch"] = "bitc”è‡∏≤",-- b—ñt—Å”è‡∏≤ bÍú°—ñt—Åh
    ["bitches"] = "bitc”è‡∏≤–µ—ï",-- b—ñt—Å”è‡∏≤–µ—ï bÍú°—ñt—Åh–µ—ï
    ["bitchy"] = "bitc”è‡∏≤—É",-- b—ñt—Å”è‡∏≤—É bÍú°—ñt—Åh—É
    ["bitchass"] = "bitc”è‡∏≤a—ï—ï",-- b—ñt—Å”è‡∏≤–∞—ï—ï bÍú°—ñt—Åh–∞—ï—ï
    ["asshole"] = "–∞—ï—ï“ª–æ”è–µ",
	["assholes"] = "–∞—ï—ï“ª–æ”è–µ—ï",
    ["molested"] = "m–æ”è–µ—ït–µd",
    ["fag"] = "fag",-- Í¨µƒÖg
    ["fags"] = "fag—ï",-- Í¨µƒÖg—ï
	["faggot"] = "fagÍú°got",-- …ô a Í¨µ–∞gÍú°got
	["faggots"] = "fagÍú°gots",-- Í¨µ–∞gÍú°gots
	--["fat"] = "fƒÖt",
    ["fatass"] = "f–∞t–∞—ï—ï",
    ["shit"] = "s”è‡∏≤it",--s”è‡∏≤it
	["shitty"] = "s”è‡∏≤itty",--s”è‡∏≤itt—É
	["shittiest"] = "s”è‡∏≤ittiest",--s”è‡∏≤ittiest
    ["shits"] = "s”è‡∏≤its",--s”è‡∏≤it—ï
	["shitted"] = "s”è‡∏≤itted",--s”è‡∏≤itted
	["dumb"] = "d‡πÄ…πmb",
    ["dumbass"] = "d‡πÄ…πmba—ïs",
    ["dildo"] = "d—ñÍú°”èdo",
    ["boobs"] = "boÍú†obs",-- ”è‡∏ß–æ–æ”è‡∏ß—ï
    ["retard"] = "retaÍú°rd",
    ["retards"] = "retaÍú°rds",
    ["retarded"] = "retaÍú°rded",
	["tits"] = "tits",
	["titties"] = "titties",
	["pedo"] = "p–µdo",
	["pedophile"] = "p–µdop“ªile",
	["pedophiles"] = "p–µdop“ªile—ï",
	["whore"] = "w”è‡∏≤ore",--w”è‡∏≤ore
	["whores"] = "w”è‡∏≤ores",--w”è‡∏≤ores
	["penis"] = "peƒ±‡∏≤is",--peƒ±‡∏≤is
	["cocaine"] = "coc–∞iƒ±‡∏≤e",
	["pussy"] = "p‡πÄ…πss—É",
	["pussies"] = "p‡πÄ…πssies",
	["hate"] = "“ª–∞te",
	["pencil"] = "pencil",
	["hoe"] = "“ª–æ–µ",
	["horny"] = "“ªorƒ±‡∏≤y",
	["kill"] = "kill",
	["fuck"] = "f‡πÄ…πck",--f‡πÄ…πck
	["fucker"] = "f‡πÄ…πcker",--f‡πÄ…πcker
	["fucked"] = "f‡πÄ…πcked",--f‡πÄ…πcked
	["fucking"] = "f‡πÄ…πckiƒ±‡∏≤g",--f‡πÄ…πckiƒ±‡∏≤g
	["fuckin"] = "f‡πÄ…πckiƒ±‡∏≤",--f‡πÄ…πckiƒ±‡∏≤
	["discord"] = "ƒèiscoÍú†rƒè",
	["sex"] = "—ïeÍú†x",
	["sexy"] = "—ïeÍú†xy",
	["moron"] = "moroƒ±‡∏≤",
	["messenger"] = "messeƒ±‡∏≤ger",
	["youtube"] = "youtube",
	--["suck"] = "s∆∞ck",
	--["sucks"] = "s∆∞cks",
	["motherfucker"] = "motherf‡πÄ…πcker",
	["motherfuckers"] = "motherf‡πÄ…πckers",
	["cunt"] = "c‡πÄ…πnt",
	["cunts"] = "c‡πÄ…πnts",
	["what"] = "w“ªat",
	["steam"] = "steaƒ±‡∏≤‡∏≤",
	["instagram"] = "iƒ±‡∏≤stagraƒ±‡∏≤‡∏≤",
	["goon"] = "gooƒ±‡∏≤",
	["gooning"] = "gooƒ±‡∏≤ing",
	["suicide"] = "s‡πÄ…πicide",
	["suicides"] = "s‡πÄ…πicides",
	["suicidal"] = "s‡πÄ…πicidal",
	["condom"] = "coƒ±‡∏≤dom",
	["condoms"] = "coƒ±‡∏≤doms",
	--["little"] = "li≈•≈•le",
	----------------------------- faces
	[":D"] = ":D",
    --["."] = "À∞",
    -- add more custom words here
}

-------------------------------------------------
-- Helpers
-------------------------------------------------
local function findPlayer(partial)
	partial = partial:lower()
	local matches = {}

	for _, p in pairs(Players:GetPlayers()) do
		if p.Name:lower():sub(1, #partial) == partial then
			table.insert(matches, p)
		end
	end

	if #matches == 1 then return matches[1] end
	if #matches > 1 then return "multiple" end
	return nil
end

local function convertText(text)
	text = text:lower()

	for word, repl in pairs(wordExceptions) do
		text = text:gsub("(%f[%w])"..word.."(%f[%W])", "%1"..repl.."%2")
	end

	--text = text:gsub("%.", "Àé")-- ƒ±◊ÖŸ¥…π◊Ö

	for _, map in pairs(charMaps) do
		for char, repl in pairs(map) do
			text = text:gsub(char, repl)
		end
	end
	
	return  "¬∫Ô©ù"..text.."Ô©û¬∫"

	--"{„ç∞""„ç∞}" üïÜ·≤ù ·≤ùüïÜ
	-- "{„ç∞„çπ„çπ"..text.."„çπ„çπ„ç∞}" -- alt
	-- "{„çπ„ç∞„çπ"..text.."„çπ„ç∞„çπ}" -- best 2
	-- "{„çπ„ç∞·≤ù"..text.."·≤ù„çπ„ç∞}"
	-- „ç° „çõ „ç™ „àø „àæ Ô©â Ô©û Ô©ù
	-- „àø|r–µ—Ä–ærtm–µ—ñf—É–æut“ª—ñnk—ñ'm–∞n–∞—ï—ï“ª–æ”è–µ|„àø
	-- „àø|·πõ–µ—Ä–æ·πõ≈£·πÉ–µ—ñÍ¨µ—É–æ∆∞≈£“ª—ñ·πáƒ∑—ñ'·πÉ–∞·πá–∞—ï—ï“ª–æ”è–µ|
end

local function sendChat(message)
	local channel

	local config = TextChatService:FindFirstChild("ChatInputBarConfiguration")
	if config then
		channel = config.TargetTextChannel
	end

	if TextChatService:FindFirstChild("TextChannels") then
		channel = channel or TextChatService.TextChannels:FindFirstChild("RBXGeneral")
	end

	if channel then
		channel:SendAsync(message)
	end
end

-------------------------------------------------
-- PROCESS (USED BY SEND + PHRASES)
-------------------------------------------------
local function processText(raw)
	if raw:sub(1,3):lower()=="/pm" then
		local args = raw:split(" ")
		local target = findPlayer(args[2])
		if target then
			sendChat("/w "..target.Name.." "..convertText(table.concat(args," ",3)))
		end
	else
		sendChat(convertText(raw))
	end
end

-------------------------------------------------
-- PHRASE BUTTONS
-------------------------------------------------
for _,text in ipairs(phrases) do
	local b = Instance.new("TextButton")
	b.Size = UDim2.new(1,-6,0,34)
	b.Text = text
	b.Font = Enum.Font.SourceSansBold
	b.TextSize = 16
	b.TextColor3 = Color3.new(1,1,1)
	b.BackgroundColor3 = Color3.fromRGB(45,45,45)
	b.Parent = scroll
	Instance.new("UICorner",b)

	b.MouseButton1Click:Connect(function()
		processText(text)
		phrasesFrame.Visible = false
	end)
end

task.wait()
scroll.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y+6)

-------------------------------------------------
-- EVENTS
-------------------------------------------------
sendBtn.MouseButton1Click:Connect(function()
	if inputBox.Text ~= "" then
		processText(inputBox.Text)
		inputBox.Text = ""
		game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync("/e []()https://www.roblox.com/users/88/profile")
		--sendChat("/w []()")
	end
end)

inputBox.FocusLost:Connect(function(enterPressed)
	if enterPressed and inputBox.Text ~= "" then
		processText(inputBox.Text)
		inputBox.Text = ""
		game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync("/e []()https://www.roblox.com/users/88/profile")
		--sendChat("/w []()")
	end
end)


phrasesBtn.MouseButton1Click:Connect(function()
	phrasesFrame.Visible = not phrasesFrame.Visible
end)

closePhrases.MouseButton1Click:Connect(function()
	phrasesFrame.Visible = false
end)

closeBtn.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

-------------------------------------------------
-- DRAG (PC + MOBILE)
-------------------------------------------------
local dragging, dragStart, startPos

topBar.InputBegan:Connect(function(input)
	if input.UserInputType==Enum.UserInputType.MouseButton1
	or input.UserInputType==Enum.UserInputType.Touch then
		dragging=true
		dragStart=input.Position
		startPos=chatFrame.Position
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and (input.UserInputType==Enum.UserInputType.MouseMovement
	or input.UserInputType==Enum.UserInputType.Touch) then
		local d=input.Position-dragStart
		chatFrame.Position=UDim2.new(
			startPos.X.Scale,startPos.X.Offset+d.X,
			startPos.Y.Scale,startPos.Y.Offset+d.Y
		)
	end
end)

UserInputService.InputEnded:Connect(function(input)
	if input.UserInputType==Enum.UserInputType.MouseButton1
	or input.UserInputType==Enum.UserInputType.Touch then
		dragging=false
	end
end)

